<!DOCTYPE html>
<html>
<head>
  <title>Pick a Hero</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1 id="title">Random Marvel Rivals Hero</h1>
  <button id="btn">Pick a Hero</button>
  <p id="hero">Your hero will appear here</p>
  <div id="heroBox">
    <img id="heroImg" src="" alt="Hero Icon">
  </div>
  <label class="custom-checkbox">
    <input type="checkbox" id="noRepeatToggle">
    <span class="checkmark"></span>
    Eliminate heroes after pick
  </label>
  <p id="eliminationCount" style="display: none;">0/42</p>

    <script>
    const heroes = [
        "Captain America", "Doctor Strange", "Emma Frost", "Groot",
        "Hulk", "Bruce Banner", "Magneto", "Peni Parker", "The Thing", "Thor", "Venom",
        "Angela", "Black Panther", "Black Widow", "Blade", "Hawkeye",
        "Hela", "Human Torch", "Iron Fist", "Iron Man", "Magik",
        "Mister Fantastic", "Moon Knight", "Namor", "Phoenix", "Psylocke",
        "Scarlet Witch", "Spider-Man", "Squirrel Girl", "Star-Lord", "Storm",
        "The Punisher", "Winter Soldier", "Wolverine", "Adam Warlock",
        "Cloak & Dagger", "Invisible Woman", "Jeff the Land Shark",
        "Loki", "Luna Snow", "Mantis", "Rocket Raccoon", "Ultron"
    ];

    const btn = document.getElementById("btn");
    const hero = document.getElementById("hero");
    const heroImg = document.getElementById("heroImg");
    const heroBox = document.getElementById("heroBox");
    const noRepeatToggle = document.getElementById("noRepeatToggle");
    const eliminationCount = document.getElementById("eliminationCount");

    let availableHeroes = [...heroes];
    let eliminatedCount = 0;
    let lastHero = null;

    function pickHero() {
        if (availableHeroes.length === 0) {
        hero.textContent = "No heroes left!";
        // Show last picked hero image if it exists
        if (lastHero) {
            heroImg.src = lastHero.image;
            heroImg.alt = lastHero.name;
            heroImg.style.display = "block";
            heroBox.style.display = "block";
        } else {
            heroImg.style.display = "none";
            heroBox.style.display = "none";
        }
        return;
        }

        const randIndex = Math.floor(Math.random() * availableHeroes.length);
        const chosenHero = availableHeroes[randIndex];

        hero.textContent = chosenHero;

        const fileName = `${chosenHero} Deluxe Avatar.png`;
        heroImg.src = `images/${fileName}`;
        heroImg.alt = chosenHero;
        heroImg.style.display = "block";
        heroBox.style.display = "block";

        // Store last picked hero
        lastHero = { name: chosenHero, image: heroImg.src };

        // Remove hero if toggle is on
        if (noRepeatToggle.checked) {
        availableHeroes.splice(randIndex, 1);
        eliminatedCount++;
        updateEliminationCount();
        }
    }

    function updateEliminationCount() {
        if (noRepeatToggle.checked) {
            const remaining = heroes.length - eliminatedCount;
            eliminationCount.textContent = `${eliminatedCount}/${heroes.length}`;
            eliminationCount.style.display = "block";
            
            // Color based on remaining heroes
            if (remaining >= 30) {
                eliminationCount.style.color = "#4CAF50"; // Green
            } else if (remaining >= 10) {
                eliminationCount.style.color = "#ff9500"; // Orange
            } else {
                eliminationCount.style.color = "#ff4757"; // Red
            }
        } else {
            // Reset the eliminated heroes when checkbox is unchecked
            availableHeroes = [...heroes];
            eliminatedCount = 0;
            lastHero = null;
            eliminationCount.style.display = "none";
            pickHero(); // Pick a hero again after reset
        }
    }

    // Initialize on page load
    window.addEventListener("load", () => {
        availableHeroes = [...heroes];
        eliminatedCount = 0;
        lastHero = null;
        updateEliminationCount();
        pickHero();
    });

    btn.addEventListener("click", pickHero);
    noRepeatToggle.addEventListener("change", updateEliminationCount);
    </script>

</body>
</html>
